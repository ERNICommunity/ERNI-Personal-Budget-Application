<label class="block mb-2" for="file-list">Uploaded files</label>
<div *ngIf="files().length > 0" class="fileLists mb-2" id="file-list">
  <ul class="no-bullets">
    @for (file of files(); track file.name) {
      <li>
        @if (file.status.code === 'new' || file.status.code === 'in-progress') {
          <button pButton disabled class="p-button-sm p-button-text">{{ file.name }}</button>
        }
        @if (file.status.code === 'in-progress') {
          <p-progressBar [style]="{ height: '20px' }" [showValue]="false" [value]="file.status.progress"/>
        }
        @if (file.status.code === 'saved') {
          <button pButton
            [disabled]="!file.status.id"
            class="p-button-sm p-button-text"
            (click)="download(file.status.id)"
          >{{ file.name }}</button>
        }
      </li>
    }
  </ul>
</div>

@if (uploadEnabled()) {
  <p-fileUpload
    accept="image/png, image/jpeg, image/gif, application/pdf"
    chooseIcon="pi pi-upload"
    chooseStyleClass="p-button-secondary"
    chooseLabel="Upload File"
    [showUploadButton]="false"
    [showCancelButton]="false"
    [maxFileSize]="2000000"
    [customUpload]="true"
    (onSelect)="onFileSelect($event)"
  >
    <ng-template let-file pTemplate="file"></ng-template>
  </p-fileUpload>
}
