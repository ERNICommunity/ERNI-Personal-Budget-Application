<form *ngIf="category" #form="ngForm">
    <h2>Details</h2>
    <br>
    <div class="form-group col-md-6">
        <label>
            Category title:
            <input class="form-control" [(ngModel)]="category.title" name="title" #title="ngModel" placeholder="Title" required>
            <div class="alert alert-danger" *ngIf="title.touched && !title.valid">Title is not valid.</div>
        </label>
    </div>
    <div class="form-check col-md-6">
        <label class="form-check-label col-md-6">
            <input
                type="checkbox"
                [(ngModel)]="category.isActive"
                name="isActive"
                class="form-check-input">
            Active
        </label>
        <br>
        <label class="form-check-label col-md-6">
            <input
                type="checkbox"
                [(ngModel)]="category.isUrlNeeded"
                name="isUrlNeeded"
                class="form-check-input">
            Url
        </label>
    </div>
    <br>
    <div class="form-input col-md-6">
        <label class="form-input-label">
            Spend limit:
            <input
                type="number"
                [(ngModel)]="category.spendLimit"
                name="spendLimit"
                class="form-input form-control"
                placeholder="0.00">
        </label>
        <br>
    </div>
    <div class="form-input col-md-6">
        <h4>Emails</h4>
        <div class="form-inline">
            

    </div>
        <table class="table">
            <thead>
                <th scope="col"><input class="form-input form-control" ngModel name="newMail" placeholder="email@example.com"
                        #newMail="ngModel" required [email]="true">
                </th>
                <th> <button class="btn btn-success float-right" (click)="addMail(newMail.value)">
                        Add
                    </button>
                </th>
            </thead>
            <tr *ngFor="let email of category.email">
                <th>
                    {{email}}
                </th>
                <th>
                    <button class="btn btn-danger float-right" title="remove email" (click)="deleteMail(email)">
                        Remove
                    </button>
                </th>
        </table>    
        <div class="alert alert-danger" *ngIf="newMail.touched && !newMail.valid">Email is invalid</div>
    </div>
    <br>
    <div class="form-group">
        <button
            class="btn btn-primary mr-1"
            (click)="goBack()">
            Back
        </button>
        <button
            class="btn btn-success"
            (click)="save()"
            [disabled]="isSubmitted">
            Save
        </button>
    </div>
</form>